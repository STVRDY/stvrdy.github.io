/* --- CONFIGURACIÓN GLOBAL Y ESTILOS BASE (MOBILE-FIRST) --- */
:root {
    --primary-color: #00ff41;
    --background-color: #0d0d0d;
    --text-color: #e0e0e0;
    --font-main: 'Fira Code', monospace;
    --text-blue: #00ffff;
    --text-red: #ff3c3c;
}

body {
    background-color: var(--background-color);
    color: var(--text-color);
    font-family: var(--font-main);
    margin: 0;
    overflow: hidden;
    font-size: 14px; /* Base font size for mobile */
}

body::after { /* Scanlines */
    content: ' ';
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(0deg, rgba(0,0,0,0) 50%, rgba(255, 255, 255, 0.05) 50%);
    background-size: 100% 4px;
    opacity: 0.2;
    pointer-events: none;
    z-index: 9999;
}

/* --- PANTALLA DE BIENVENIDA --- */
#welcome-screen{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--background-color);display:flex;justify-content:center;align-items:center;z-index:1000;transition:opacity 1s ease-out}
#welcome-screen.hidden{opacity:0;pointer-events:none}
#terminal{width:90%;max-width:800px}
#terminal-output{white-space:pre-wrap; font-size: 0.8rem;}
.terminal-button{background:transparent;border:1px solid var(--primary-color);color:var(--primary-color);padding:8px 18px;font-family:var(--font-main);cursor:pointer;transition:background-color .3s,color .3s;text-shadow:0 0 5px var(--primary-color)}
.terminal-button:hover{background-color:var(--primary-color);color:var(--background-color)}

/* --- ESCRITORIO --- */
#desktop{position:fixed;width:100vw;height:100vh;overflow:hidden;opacity:0;transition:opacity 1.5s ease-in;display:flex;flex-direction:column}
#desktop.visible{opacity:1}
#icon-grid{padding:10px;flex-grow:1;display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;gap:10px}
.desktop-icon{width:80px;text-align:center;color:var(--text-color);cursor:pointer;transition:background-color .2s;border:1px solid transparent;padding:5px; display: flex; flex-direction: column; align-items: center;}
.desktop-icon:hover{background-color:rgba(0,255,65,.1);border:1px solid rgba(0,255,65,.3)}
.desktop-icon img{width:45px;height:45px;margin-bottom:5px;-webkit-user-drag:none}
.desktop-icon p{margin:0;font-size:11px;word-wrap:break-word}
.icon-align-right{margin-left:auto;align-self:flex-start;}

/* --- BARRA DE TAREAS Y MENÚ DE INICIO --- */
#taskbar{height:40px;background-color:#1a1a1a;border-top:1px solid var(--primary-color);display:flex;align-items:center;justify-content:space-between;padding:0 10px;box-shadow:0 -5px 15px rgba(0,255,65,.1); z-index: 10000;}
#start-btn{font-size:18px;font-weight:700;cursor:pointer;padding:5px 15px;transition:background-color .2s}
#start-btn:hover{background-color:var(--primary-color);color:var(--background-color)}
#clock{font-size:16px;font-weight:700}
#start-menu{position:absolute;bottom:40px;left:0;background-color:rgba(26,26,26,.9);border:1px solid var(--primary-color);backdrop-filter:blur(5px);box-shadow:0 0 20px rgba(0,255,65,.2);padding:5px;z-index:2000}
#start-menu.hidden{display:none}
.start-menu-item{padding:10px 15px;cursor:pointer;white-space:nowrap}
.start-menu-item:hover{background-color:var(--primary-color);color:var(--background-color)}


/* --- VENTANAS MODALES (MOBILE-FIRST) --- */
.window {
    position: absolute;
    top: 5%;
    left: 5%;
    width: 90vw;
    height: 80vh;
    background-color: rgba(15, 15, 15, 0.8);
    border: 1px solid var(--primary-color);
    box-shadow: 0 0 20px rgba(0, 255, 65, 0.2);
    display: flex;
    flex-direction: column;
    backdrop-filter: blur(8px);
    resize: both;
    overflow: hidden;
    min-width: 300px;
}
.window-header { background-color: var(--primary-color); color: var(--background-color); padding: 6px 12px; font-weight: bold; cursor: move; display: flex; justify-content: space-between; align-items: center; user-select: none; }
.window-body { padding: 15px; flex-grow: 1; overflow-y: auto; }

/* --- ESTILOS BIO (MOBILE-FIRST) --- */
.about-me-container { display: flex; flex-direction: column; gap: 20px; align-items: center; text-align: center; }
.profile-pic { width: 120px; height: 120px; object-fit: cover; border: 2px solid var(--primary-color); box-shadow: 0 0 10px var(--primary-color); border-radius: 50%; }
.about-me-content h1 {font-size: 1.8rem;}
.about-me-content h3 { color: var(--primary-color); margin-top: 20px;}
.skill-item { margin-bottom: 8px; cursor: pointer; position: relative; }
.skill-item:hover .skill-name { text-shadow: 0 0 5px var(--primary-color); }
.skill-name { display: inline-block; width: 120px; font-size: 0.9rem;}
.text-blue { color: var(--text-blue); } .text-red { color: var(--text-red); }
.skill-bar-container { display: inline-block; width: calc(100% - 130px); max-width: 200px; height: 12px; background-color: rgba(0,0,0,0.5); border: 1px solid var(--primary-color); vertical-align: middle; }
.skill-bar-level { height: 100%; background-color: var(--primary-color); box-shadow: 0 0 5px var(--primary-color); }
.ascii-particle { position: absolute; pointer-events: none; user-select: none; z-index: 9999; animation: ascii-explode 0.8s forwards; }
@keyframes ascii-explode { 0% { transform: translate(0, 0) rotate(0deg); opacity: 1; } 100% { transform: var(--translate-end); opacity: 0; } }

/* --- VISOR DE ARCHIVOS Y CARPETAS --- */
.file-item{display:flex;align-items:center;padding:5px 10px;cursor:pointer;border-radius:3px}.file-item:hover{background-color:rgba(0,255,65,.1)}
.file-item img{width:24px!important;height:24px!important;margin-right:15px;object-fit:contain}
.viewer-content{padding:0!important;display:flex;justify-content:center;align-items:center;background-color:#080808;position:relative;overflow:hidden!important}
.viewer-content img,.viewer-content video,.viewer-content model-viewer{max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;border:none}
.viewer-nav{position:absolute;top:50%;transform:translateY(-50%);background-color:rgba(10,10,10,.5);border:1px solid var(--primary-color);color:var(--primary-color);font-size:24px;font-weight:700;cursor:pointer;padding:15px 10px;z-index:10;opacity:0.8;transition:opacity .3s ease,background-color .3s ease}
.viewer-content:hover .viewer-nav{opacity:1}.viewer-nav:hover{background-color:rgba(0,255,65,.3)}.prev-btn{left:15px}.next-btn{right:15px}
.viewer-overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}
.image-info-btn{position:absolute;top:15px;right:15px;width:30px;height:30px;background-color:rgba(10,10,10,.5);border:1px solid var(--primary-color);color:var(--primary-color);border-radius:50%;font-family:"Times New Roman",serif;font-size:20px;font-weight:700;line-height:28px;text-align:center;cursor:pointer;transition:background-color .2s;z-index:15;pointer-events:auto}
.image-info-btn:hover{background-color:rgba(0,255,65,.3)}
.image-meta-box{position:absolute;bottom:15px;left:15px;right:15px;max-width:90%;background:rgba(10,10,10,.8);backdrop-filter:blur(5px);border:1px solid var(--primary-color);padding:10px;font-size:12px;z-index:20;pointer-events:auto;opacity:0;transform:scale(.95) translateY(10px);transition:opacity .3s ease,transform .3s ease; top: auto;}
.image-meta-box.show{opacity:1;transform:scale(1) translateY(0)}
.meta-box-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.meta-box-header h4{margin:0;color:var(--primary-color)}
.meta-box-close-btn{background:none;border:none;color:var(--primary-color);font-size:20px;cursor:pointer}
.image-meta-box strong{color:var(--primary-color)}

/* --- JUEGO --- */
.window-game .window-body { padding: 0; background-color: #0d0d0d; overflow: hidden; }
#gameCanvas { display: block; width: 100%; height: 100%; }


/* ====================================================================== */
/* ------------------------- MEDIA QUERIES ------------------------------ */
/* ====================================================================== */

/* --- TABLETAS (Estilos para pantallas más anchas que 600px) --- */
@media (min-width: 600px) {
    body {
        font-size: 15px;
    }
    #icon-grid{
        padding: 15px;
        gap: 15px;
        flex-direction: column;
        flex-wrap: wrap;
    }
    .desktop-icon {
        width: 90px;
    }
    .desktop-icon img {
        width: 50px;
        height: 50px;
    }
    .window {
        width: 70vw;
        height: 70vh;
        top: 15%;
        left: 15%;
    }
    .about-me-container {
        flex-direction: row;
        text-align: left;
    }
    .profile-pic {
        width: 150px;
        height: 150px;
    }
    .skill-name {
        width: 150px;
    }
    .skill-bar-container {
        width: 200px;
    }
    .image-meta-box{
        top: 15px;
        left: 15px;
        bottom: auto;
        right: auto;
        max-width: 280px;
        transform: scale(.95);
    }
    .image-meta-box.show{
        transform: scale(1);
    }
}

/* --- ESCRITORIOS (Estilos para pantallas más anchas que 900px) --- */
@media (min-width: 900px) {
    body {
        font-size: 16px; /* Tamaño de fuente base para escritorio */
    }
    .window {
        width: 60vw;
        height: 60vh;
        left: 20%;
        min-width: 400px;
        max-width: 900px;
    }
    .window.window-about-me {
        width: 70vw;
        max-width: 1100px;
    }
}
